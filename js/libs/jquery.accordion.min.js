!function(t,n,e,i){function a(n,e){this.element=n,this.options=t.extend({},s,e),this._defaults=s,this._name=o,this.init()}var o="accordion",s={transitionSpeed:300,transitionEasing:"ease",controlElement:"[data-control]",contentElement:"[data-content]",groupElement:"[data-accordion-group]",singleOpen:!0};a.prototype.init=function(){function i(t,n){n?u.css({"-webkit-transition":"",transition:""}):u.css({"-webkit-transition":"max-height "+h.transitionSpeed+"ms "+h.transitionEasing,transition:"max-height "+h.transitionSpeed+"ms "+h.transitionEasing})}function a(n){var e=0;n.children().each(function(){e+=t(this).outerHeight(!0)}),n.data("oHeight",e)}function o(n,e,i,a){var o,s=n.filter(".open").find("> [data-content]"),r=s.find("[data-accordion].open > [data-content]");h.singleOpen||(r=r.not(e.siblings("[data-accordion].open").find("> [data-content]"))),o=s.add(r),n.hasClass("open")&&o.each(function(){var n=t(this).data("oHeight");switch(a){case"+":t(this).data("oHeight",n+i);break;case"-":t(this).data("oHeight",n-i);break;default:throw"updateParentHeight method needs an operation"}t(this).css("max-height",t(this).data("oHeight"))})}function s(t){if(t.hasClass("open")){var n=t.find("> [data-content]"),e=n.find("[data-accordion].open > [data-content]"),i=n.add(e);a(i),i.css("max-height",i.data("oHeight"))}}function r(t,n){if(t.trigger("accordion.close"),p){if(m){o(t.parents("[data-accordion]"),t,n.data("oHeight"),"-")}n.css(g),t.removeClass("open")}else n.css("max-height",n.data("oHeight")),n.animate(g,h.transitionSpeed),t.removeClass("open")}function c(t,e){if(t.trigger("accordion.open"),p){if(i(),m){o(t.parents("[data-accordion]"),t,e.data("oHeight"),"+")}!function(t){n.requestAnimationFrame?requestAnimationFrame(t):n.webkitRequestAnimationFrame?webkitRequestAnimationFrame(t):n.mozRequestAnimationFrame?mozRequestAnimationFrame(t):setTimeout(t,1e3/60)}(function(){e.css("max-height",e.data("oHeight"))}),t.addClass("open")}else e.animate({"max-height":e.data("oHeight")},h.transitionSpeed,function(){e.css({"max-height":"none"})}),t.addClass("open")}function d(){var n=!!h.singleOpen&&l.parents(h.groupElement).length>0;a(u),n&&function(n){n.closest(h.groupElement);var e=n.siblings("[data-accordion]").filter(".open"),i=e.find("[data-accordion]").filter(".open"),a=e.add(i);a.each(function(){var n=t(this);r(n,n.find(h.contentElement))}),a.removeClass("open")}(l),l.hasClass("open")?r(l,u):c(l,u)}var h=this.options,l=t(this.element),f=l.find("> "+h.controlElement),u=l.find("> "+h.contentElement),m=l.parents("[data-accordion]").length>0,g={"max-height":0,overflow:"hidden"},p=function(){var t=(e.body||e.documentElement).style,n="transition";if("string"==typeof t[n])return!0;var i=["Moz","webkit","Webkit","Khtml","O","ms"];n="Transition";for(var a=0;a<i.length;a++)if("string"==typeof t[i[a]+n])return!0;return!1}();u.each(function(){var n=t(this);0!=n.css("max-height")&&(n.closest("[data-accordion]").hasClass("open")?(i(),a(n),n.css("max-height",n.data("oHeight"))):n.css({"max-height":0,overflow:"hidden"}))}),l.attr("data-accordion")||(l.attr("data-accordion",""),l.find(h.controlElement).attr("data-control",""),l.find(h.contentElement).attr("data-content","")),f.on("click",d),f.on("accordion.toggle",function(){if(h.singleOpen&&f.length>1)return!1;d()}),f.on("accordion.refresh",function(){s(l)}),t(n).on("resize",function(t,n,e){var i;return function(){var a=this,o=arguments;i?clearTimeout(i):e&&t.apply(a,o),i=setTimeout(function(){e||t.apply(a,o),i=null},n||100)}}(function(){s(l)}))},t.fn[o]=function(n){return this.each(function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new a(this,n))})}}(jQuery,window,document);